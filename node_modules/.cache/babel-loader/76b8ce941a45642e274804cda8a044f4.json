{"ast":null,"code":"var _jsxFileName = \"D:\\\\PEF\\\\3. semestr ERASMUS\\\\AWA\\\\project\\\\Frontend\\\\src\\\\components\\\\Menu.js\",\n    _s = $RefreshSig$();\n\nimport React, { useState, useEffect } from 'react';\nimport Header from './partials/Header';\nimport \"../App.css\";\nimport ProductCard from './MenuFood';\nimport Search from './Search';\nimport FoodNotFound from './FoodNotFound';\nimport Footer from './partials/Footer';\nimport Basket from './Shoppingcart';\nimport axios from \"axios\";\nimport { useParams } from \"react-router\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\n\nfunction Home() {\n  _s();\n\n  const [search, setSearch] = React.useState(\"\");\n  const [products, setProducts] = useState('');\n  const [cartItems, setCartItems] = useState([]);\n  const params = useParams();\n  useEffect(() => {\n    axios.get(`http://localhost:5000/products/restaurant/${params.id}`).then(res => {\n      const data = res.data;\n      setProducts(data);\n    }).catch(err => console.log('error'));\n  }, [params.id]);\n\n  const onAdd = product => {\n    const exist = cartItems.find(x => x.id == product.id);\n\n    if (exist) {\n      setCartItems(cartItems.map(x => x.id == product.id ? { ...exist,\n        qty: exist.qty + 1\n      } : x));\n    } else {\n      setCartItems([...cartItems, { ...product,\n        qty: 1\n      }]);\n    }\n  };\n\n  const onRemove = product => {\n    const exist = cartItems.find(x => x.id == product.id);\n\n    if (exist.qty === 1) {\n      setCartItems(cartItems.filter(x => x.id !== product.id));\n    } else {\n      setCartItems(cartItems.map(x => x.id === product.id ? { ...exist,\n        qty: exist.qty - 1\n      } : x));\n    }\n  }; // call the data from api\n\n\n  const filterList = () => {\n    if (search === \"\") {\n      return products;\n    } else {\n      return products.filter(item => item.foodName.toLowerCase().indexOf(search.toLowerCase()) !== -1);\n    }\n  };\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"main\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      children: [/*#__PURE__*/_jsxDEV(Header, {\n        countCartItems: cartItems.length\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 72,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 73,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 71,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Search, {\n      searchParam: search,\n      onChange: e => setSearch(e.target.value),\n      placeholder: \"Search Your Meal here..\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 76,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      children: /*#__PURE__*/_jsxDEV(Basket, {\n        cartItems: cartItems,\n        onAdd: onAdd,\n        onRemove: onRemove\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 83,\n        columnNumber: 11\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 82,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"row\",\n      children: filterList().length > 0 ? /*#__PURE__*/_jsxDEV(_Fragment, {\n        children: filterList().map(products => /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"column\",\n          children: /*#__PURE__*/_jsxDEV(ProductCard, {\n            product: products,\n            onAdd: onAdd\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 91,\n            columnNumber: 17\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 90,\n          columnNumber: 15\n        }, this))\n      }, void 0, false) : /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"column\",\n        children: /*#__PURE__*/_jsxDEV(FoodNotFound, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 97,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 96,\n        columnNumber: 11\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 85,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(Footer, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 103,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 70,\n    columnNumber: 5\n  }, this);\n}\n\n_s(Home, \"Jn5GyLAuG1hTuqXoEzkrFwlhTAQ=\", false, function () {\n  return [useParams];\n});\n\n_c = Home;\nexport default Home;\n\nvar _c;\n\n$RefreshReg$(_c, \"Home\");","map":{"version":3,"sources":["D:/PEF/3. semestr ERASMUS/AWA/project/Frontend/src/components/Menu.js"],"names":["React","useState","useEffect","Header","ProductCard","Search","FoodNotFound","Footer","Basket","axios","useParams","Home","search","setSearch","products","setProducts","cartItems","setCartItems","params","get","id","then","res","data","catch","err","console","log","onAdd","product","exist","find","x","map","qty","onRemove","filter","filterList","item","foodName","toLowerCase","indexOf","length","e","target","value"],"mappings":"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","sourcesContent":["import React, { useState, useEffect } from 'react'\r\nimport Header from './partials/Header'\r\nimport \"../App.css\"\r\nimport ProductCard from './MenuFood'\r\nimport Search from './Search'\r\nimport FoodNotFound from './FoodNotFound'\r\nimport Footer from './partials/Footer'\r\nimport Basket from './Shoppingcart';\r\nimport axios from \"axios\";\r\nimport {useParams} from \"react-router\";\r\n\r\n\r\n\r\nfunction Home() {\r\n  const [search, setSearch] = React.useState(\"\");\r\n  const [products, setProducts ] = useState('');\r\n\r\n  const [cartItems, setCartItems] = useState([]);\r\n  const params = useParams();\r\n\r\n  useEffect(() => {\r\n    axios.get(`http://localhost:5000/products/restaurant/${params.id}`)\r\n        .then(res => {\r\n          const data = res.data;\r\n          setProducts(data);\r\n        })\r\n        .catch(err => console.log('error'));\r\n  }, [params.id]);\r\n\r\n\r\n\r\n  const onAdd = (product) => {\r\n    const exist = cartItems.find((x) => x.id == product.id);\r\n    if (exist) {\r\n      setCartItems(\r\n        cartItems.map((x) =>\r\n          x.id == product.id ? { ...exist, qty: exist.qty + 1 } : x\r\n        )\r\n      );\r\n    } else {\r\n      setCartItems([...cartItems, { ...product, qty: 1 }]);\r\n    }\r\n  };\r\n  const onRemove = (product) => {\r\n    const exist = cartItems.find((x) => x.id == product.id);\r\n    if (exist.qty === 1) {\r\n      setCartItems(cartItems.filter((x) => x.id !== product.id));\r\n    } else {\r\n      setCartItems(\r\n        cartItems.map((x) =>\r\n          x.id === product.id ? { ...exist, qty: exist.qty - 1 } : x\r\n        )\r\n      );\r\n    }\r\n  };\r\n\r\n  // call the data from api\r\n\r\n  const filterList = () => {\r\n    if (search === \"\") {\r\n      return products;\r\n    } else{\r\n      return products.filter(\r\n          (item) => item.foodName.toLowerCase().indexOf(search.toLowerCase()) !== -1\r\n      );\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div className=\"main\">\r\n      <div>\r\n        <Header countCartItems={cartItems.length}></Header>\r\n        <div></div>\r\n      </div>\r\n\r\n      <Search\r\n        searchParam={search}\r\n        onChange={(e) => setSearch(e.target.value)}\r\n        placeholder=\"Search Your Meal here..\"\r\n      />\r\n\r\n        <div>\r\n          <Basket cartItems={cartItems} onAdd={onAdd} onRemove={onRemove} />\r\n        </div>\r\n        <div className=\"row\">\r\n     \r\n        {filterList().length > 0 ? (\r\n          <>\r\n            {filterList().map((products) => (\r\n              <div className=\"column\">\r\n                <ProductCard product={products} onAdd={onAdd} />\r\n              </div>\r\n            ))}\r\n          </>\r\n        ) : (\r\n          <div className=\"column\">\r\n            <FoodNotFound />\r\n          </div>\r\n        )}\r\n      </div>\r\n\r\n\r\n      <Footer />\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default Home;\r\n"]},"metadata":{},"sourceType":"module"}